<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>MEINKRAFT TEST</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- CODE SCREEN BACKGROUND -->
    <div id="code-screen-bg"></div>

    <!-- CODE SCREEN -->
    <div id="code-screen" class="menu">
        <div class="logo">MEINKRAFT</div>
        <p>Gib den Zugangscode ein:</p>

        <input id="access-code" class="world-input" placeholder="Code eingeben">

        <button id="btn-check-code" class="menu-btn">Bestätigen</button>

        <p id="code-error" style="color:red; display:none;">Falscher Code!</p>
    </div>

    <!-- HAUPTMENÜ -->
    <div id="main-menu" class="menu hidden">
        <div class="logo">MEINKRAFT</div>

        <button class="menu-btn">Welt starten</button>
        <button class="menu-btn">Einstellungen</button>
        <button class="menu-btn">Beenden</button>
    </div>

    <!-- RESET BUTTON -->
    <button 
        onclick="localStorage.removeItem('access_granted'); location.reload();" 
        style="
            position:fixed;
            bottom:10px;
            right:10px;
            padding:10px 15px;
            background:#222;
            color:white;
            border:2px solid #00ff88;
            border-radius:6px;
            z-index:999999;
            cursor:pointer;
        ">
        Zugang zurücksetzen
    </button>

    <!-- SCRIPT -->
    <script>
        const SECRET_CODE = atob("U1YtQUxQSEEtMjAyNQ==");

        const codeScreen = document.getElementById("code-screen");
        const codeBg = document.getElementById("code-screen-bg");
        const mainMenu = document.getElementById("main-menu");

        function showMainMenu() {
            codeScreen.style.display = "none";
            codeBg.style.display = "none";
            mainMenu.classList.remove("hidden");
        }

        // Wenn bereits freigeschaltet → direkt Menü zeigen
        if (localStorage.getItem("access_granted") === "true") {
            showMainMenu();
        }

        // Code prüfen
        document.getElementById("btn-check-code").addEventListener("click", () => {
            const input = document.getElementById("access-code").value.trim();

            if (input === SECRET_CODE) {
                localStorage.setItem("access_granted", "true");
                showMainMenu();
            } else {
                document.getElementById("code-error").style.display = "block";
            }
        });
    </script>

</body>
</html>
