<script>
    alert("Script läuft!"); // TEST 1

    const SECRET_CODE = atob("U1YtQUxQSEEtMjAyNQ==");

    const codeScreen = document.getElementById("code-screen");
    const codeBg = document.getElementById("code-screen-bg");
    const mainMenu = document.getElementById("main-menu");

    function showMainMenu() {
        alert("Hauptmenü wird angezeigt!"); // TEST 2
        codeScreen.style.display = "none";
        codeBg.style.display = "none";
        mainMenu.classList.remove("hidden");
    }

    if (localStorage.getItem("access_granted") === "true") {
        showMainMenu();
    }

    document.getElementById("btn-check-code").addEventListener("click", () => {
        const input = document.getElementById("access-code").value.trim();

        if (input === SECRET_CODE) {
            alert("Code korrekt! Menü wird geladen."); // TEST 3
            localStorage.setItem("access_granted", "true");
            showMainMenu();
        } else {
            document.getElementById("code-error").style.display = "block";
        }
    });
</script>
